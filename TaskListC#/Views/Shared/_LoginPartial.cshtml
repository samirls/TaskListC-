@using Microsoft.AspNetCore.Identity

@inject SignInManager<User> SignInManager

@if (SignInManager.IsSignedIn(User))
{
  <li class="nav-item">
    <a class="nav-link
                  @(ViewBag.CurrentUrl == Url.Action("Index", "Home") ? "text-primary" : "")"
       asp-area="" asp-controller="Home" asp-action="Index">Home</a>
  </li>
  <li class="nav-item">
    <a class="nav-link @(ViewBag.CurrentUrl.ToString().Contains("/Tasks") ? "text-primary" : "")"
       asp-area="" asp-controller="Tasks" asp-action="Index">Tasks</a>
  </li>
  <li class="nav-item">
    <a class="nav-link @(ViewBag.CurrentUrl.ToString().Contains("/Friends") ? "text-primary" : "")"
       asp-area="" asp-controller="Friends" asp-action="Index">Friends</a>
  </li>
  <form asp-controller="Account" asp-action="Logout" id="logoutForm" method="post" class="navbar">
    <ul class="nav navbar">
      <button>
        Logout : @User.Identity.Name &nbsp;
      </button>
    </ul>
  </form>
}
else
{
  <li class="nav-item">
    <a class="nav-link
                  @(ViewBag.CurrentUrl == Url.Action("Index", "Home") ? "text-primary" : "")"
       asp-area="" asp-controller="Home" asp-action="Index">Home</a>
  </li>
  <li class="nav-item">
    <a class="nav-link
                  @(ViewBag.CurrentUrl == Url.Action("Login", "Account") ? "text-primary" : "")"
       asp-area="" asp-controller="Account" asp-action="Login">Login</a>
  </li>
  <li class="nav-item">
    <a class="nav-link
                  @(ViewBag.CurrentUrl == Url.Action("Register", "Account") ? "text-primary" : "")"
       asp-area="" asp-controller="Account" asp-action="Register">Register</a>
  </li>
  <li class="nav-item" >
    <a class="nav-link" style="cursor:pointer" onclick="notLoggedToAccess()">Tasks</a>
  </li>
  <li class="nav-item" >
    <a class="nav-link" style="cursor:pointer" onclick="notLoggedToAccess()">Friends</a>
  </li>
}


<script src="~/lib/jquery/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/izitoast/dist/css/iziToast.min.css">
<script src="https://cdn.jsdelivr.net/npm/izitoast/dist/js/iziToast.min.js"></script>
<script type="text/javascript">
  function notLoggedToAccess() {
    iziToast.error({
      title: 'Log in first',
      position: 'topRight',
      timeout: 2000
    });
  }

</script>